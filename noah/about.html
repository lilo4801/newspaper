<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<style>
	.box {
		width: 100px;
		height: 100px;
		background-color: #ccc;
		margin-bottom: 20px;
		opacity: 0;
		/* Initially hide the boxes */
		transition: opacity 0.5s ease;
		/* Add transition for smooth animation */
	}

	.box.show {
		opacity: 1;
		/* Show the box when it's in viewport */
	}
</style>

<body>
	<div class="container" style="height: 100000px;overflow: auto;">
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<!-- Add more .box elements as needed -->
	</div>
</body>
<script>
	// Select the container and all box elements
	const container = document.querySelector('.container');
	const boxes = document.querySelectorAll('.box');

	// Create a new IntersectionObserver
	const observer = new IntersectionObserver(entries => {
		entries.forEach(entry => {
			// If the element is in viewport
			if (entry.isIntersecting) {
				// Add a class to the element to trigger animation
				entry.target.classList.add('show');
				// Unobserve the target to prevent further triggers
				observer.unobserve(entry.target);
			}
		});
	}, { threshold: 0.5 }); // You can adjust the threshold as needed

	// Loop through each box and observe them
	boxes.forEach(box => {
		observer.observe(box);
	});

</script>

</html>